<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="master">
<div th:replace="layouts/navbar :: navbar"></div>

<br><br>
<head>
	<meta charset="utf-8">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	</head>

<body>
	<main layout:fragment="contenido">
		<div class="col-12">
			<h1 class="p-2 bg-success text-white">DETALLES VENTAS</h1>
			<div th:classappend="'alert-' + (${clase != null} ? ${clase} : info)" th:if="${mensaje != null}"
				th:text="${mensaje}" class="alert">
			</div>
			
			
			<div style="text-align: right;">
				<a th:href="@{/ventas/exportarExcel}">
					<img src="/images/excel.png" width="60" height="40"></img>
				</a>
			</div>
			<div class="table-responsive">
				<table class="table table-bordered">
					<thead>
						<tr>
							<th>Fecha</th>
							<th>Total</th>
							<th>Productos</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="venta : ${ventas}">
							<td th:text="${venta.fechaYHora}"></td>
							<td th:text="${venta.total}"></td>
							<td>
								<table class="table table-bordered">
									<thead>
										<tr>
											<th>Nombre</th>
											<th>CÃ³digo de barras</th>
											<th>Cantidad vendida</th>
											<th>Precio</th>
											<th>Total</th>
										</tr>
									</thead>
									<tbody>
										<tr th:each="producto : ${venta.productos}">
											<td th:text="${producto.nombre}"></td>
											<td th:text="${producto.codigo}"></td>
											<td th:text="${producto.cantidad}"></td>
											<td th:text="${producto.precio}"></td>
											<td th:text="${producto.total}"></td>
										</tr>
									</tbody>
								</table>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</main>
	
</body>

</html>